{"version":3,"sources":["js/main.js"],"names":["list","document","querySelector","close","adaptive","addEventListener","style","display","findBlockByAlias","alias","$","filter","ndx","item","attr","click","e","preventDefault","$this","currentTarget","curItem","closest","target","addClass","siblings","removeClass","openItem","container","contentBlock","find","reHeight","height","closeEveryItem","items","on","hasClass","slider","bxSlider","pager","controls","goToPrevSlide","goToNextSlide","validateFields","form","fieldsArray","errorFields","forEach","field","val","trim","length","submit","name","phone","comment","to","modal","content","ajax","url","method","data","success","text","message","fancybox","open","src","type","error","responseJSON"],"mappings":";AAAA,IAAIA,EAAOC,SAASC,cAAc,kBAC9BC,EAAQF,SAASC,cAAc,yBAC/BE,EAAWH,SAASC,cAAc,kBACtCF,EAAKK,iBAAiB,QAAS,WAC3BD,EAASE,MAAMC,QAAU,SAE7BJ,EAAME,iBAAiB,QAAS,WAC5BD,EAASE,MAAMC,QAAU,SAK7B,IAAMC,EAAmB,SAACC,GACfC,OAAAA,EAAE,iBAAiBC,OAAO,SAACC,EAAKC,GAC5BH,OAAAA,EAAEG,GAAMC,KAAK,iBAAmBL,KAG/CC,EAAE,6BAA6BK,MAAM,SAAAC,GACjCA,EAAEC,iBAEIC,IAAAA,EAAQR,EAAEM,EAAEG,eACZC,EAAUF,EAAMG,QAAQ,wBACxBC,EAASJ,EAAMJ,KAAK,aACPN,EAAiBc,GACzBC,SAAS,UAAUC,WAAWC,YAAY,UACrDL,EAAQG,SAAS,UAAUC,WAAWC,YAAY,YAKtD,IAAMC,EAAW,SAAAb,GACPc,IAAAA,EAAYd,EAAKQ,QAAQ,eACzBO,EAAeD,EAAUE,KAAK,kBAE9BC,EADYF,EAAaC,KAAK,mBACTE,SAE3BJ,EAAUJ,SAAS,UACnBK,EAAaG,OAAOD,IAGlBE,EAAiB,SAAAL,GACbM,IAAAA,EAAQN,EAAUE,KAAK,kBACPF,EAAUE,KAAK,eAEvBJ,YAAY,UAC1BQ,EAAMF,OAAO,IAGjBrB,EAAE,gBAAgBwB,GAAG,QAAS,SAAClB,GACrBE,IAAAA,EAAQR,EAAEM,EAAEG,eACZQ,EAAYT,EAAMG,QAAQ,SACVH,EAAMG,QAAQ,eAElBc,SAAS,UACvBH,EAAeL,IAGfK,EAAeL,GACfD,EAASR,MAOjB,IAAMkB,EAAS1B,EAAE,sBAAsB2B,SAAS,CAC5CC,OAAO,EACPC,UAAU,IAGd7B,EAAE,6CAA6CK,MAAM,SAAAC,GACjDA,EAAEC,iBACFmB,EAAOI,kBAGX9B,EAAE,6CAA6CK,MAAM,SAAAC,GACjDA,EAAEC,iBACFmB,EAAOK,kBAKX,IAAMC,EAAiB,SAACC,EAAMC,GAUnBC,OARPD,EAAYE,QAAQ,SAACC,GACjBA,EAAMtB,YAAY,eACS,KAAvBsB,EAAMC,MAAMC,QACZF,EAAMxB,SAAS,iBAKO,IADVoB,EAAKd,KAAK,gBACXqB,QAGvBxC,EAAE,SAASyC,OAAO,SAAAnC,GACdA,EAAEC,iBAEI0B,IAAAA,EAAOjC,EAAEM,EAAEG,eACXiC,EAAOT,EAAKd,KAAK,iBACjBwB,EAAQV,EAAKd,KAAK,kBAClByB,EAAUX,EAAKd,KAAK,oBACpB0B,EAAKZ,EAAKd,KAAK,eAEf2B,EAAQ9C,EAAE,UACV+C,EAAUD,EAAM3B,KAAK,kBAE3B2B,EAAM/B,YAAY,eAEFiB,EAAeC,EAAM,CAACS,EAAMC,EAAOC,EAASC,KAIxD7C,EAAEgD,KAAK,CACHC,IAAK,6CACLC,OAAQ,OACRC,KAAM,CACFT,KAAMA,EAAKJ,MACXK,MAAOA,EAAML,MACbM,QAASA,EAAQN,MACjBO,GAAIA,EAAGP,OAEXc,QAAS,SAAAD,GACLJ,EAAQM,KAAKF,EAAKG,SAClBtD,EAAEuD,SAASC,KAAK,CACZC,IAAK,SACLC,KAAM,YAGdC,MAAO,SAAAR,GACGG,IAAAA,EAAUH,EAAKS,aAAaN,QAClCP,EAAQM,KAAKC,GACbR,EAAMjC,SAAS,eACfb,EAAEuD,SAASC,KAAK,CACZC,IAAK,SACLC,KAAM,cAMtB1D,EAAE,kBAAkBK,MAAM,SAAAC,GACtBA,EAAEC,iBACFP,EAAEuD,SAAS9D","file":"main.99295a44.js","sourceRoot":"..","sourcesContent":["var list = document.querySelector('#menu_dropdown'),\r\n    close = document.querySelector('#adaptive__menu-close'),\r\n    adaptive = document.querySelector('#adaptive-menu');\r\nlist.addEventListener('click', function () {\r\n    adaptive.style.display = 'flex';\r\n});\r\nclose.addEventListener('click', function () {\r\n    adaptive.style.display = 'none';\r\n});\r\n\r\n//Выпадающий список//\r\n\r\nconst findBlockByAlias = (alias) => {\r\n    return $(\".review__item\").filter((ndx, item) => {\r\n        return $(item).attr(\"data-linked\") === alias;\r\n    });\r\n};\r\n$(\".interactive-avatar__link\").click(e => {\r\n    e.preventDefault();\r\n\r\n    const $this = $(e.currentTarget);\r\n    const curItem = $this.closest(\".review__switch-item\");\r\n    const target = $this.attr(\"data-open\");\r\n    const itemToShow = findBlockByAlias(target);\r\n    itemToShow.addClass(\"active\").siblings().removeClass(\"active\");\r\n    curItem.addClass(\"active\").siblings().removeClass(\"active\");\r\n});\r\n\r\n//Пеключатель свитч//\r\n\r\nconst openItem = item => {\r\n    const container = item.closest(\".team__item\");\r\n    const contentBlock = container.find(\".text__content\");\r\n    const textBlock = contentBlock.find(\".team__position\");\r\n    const reHeight = textBlock.height();\r\n\r\n    container.addClass(\"active\");\r\n    contentBlock.height(reHeight);\r\n}\r\n\r\nconst closeEveryItem = container => {\r\n    const items = container.find('.text__content');\r\n    const itemContainer = container.find(\".team__item\");\r\n\r\n    itemContainer.removeClass(\"active\");\r\n    items.height(0);\r\n}\r\n\r\n$(\".team__title\").on('click', (e) => {\r\n    const $this = $(e.currentTarget);\r\n    const container = $this.closest('.team');\r\n    const elemContainer = $this.closest(\".team__item\");\r\n\r\n    if (elemContainer.hasClass(\"active\")) {\r\n        closeEveryItem(container);\r\n        //close\r\n    } else {\r\n        closeEveryItem(container);\r\n        openItem($this);\r\n    }\r\n});\r\n\r\n//выпадающие отзывы в блоке команды//\r\n\r\n\r\nconst slider = $('.composition__list').bxSlider({\r\n    pager: false,\r\n    controls: false\r\n});\r\n\r\n$('.composition-slider__arrow_direction_prev').click(e => {\r\n    e.preventDefault();\r\n    slider.goToPrevSlide();\r\n})\r\n\r\n$('.composition-slider__arrow_direction_next').click(e => {\r\n    e.preventDefault();\r\n    slider.goToNextSlide();\r\n})\r\n\r\n//карусель в композишион//\r\n\r\nconst validateFields = (form, fieldsArray) => {\r\n\r\n    fieldsArray.forEach((field) => {\r\n        field.removeClass(\"input-error\");\r\n        if (field.val().trim() === \"\") {\r\n            field.addClass(\"input-error\");\r\n        }\r\n    });\r\n\r\n    const errorFields = form.find(\".input-error\");\r\n    return errorFields.length === 0;\r\n}\r\n\r\n$('.form').submit(e => {\r\n    e.preventDefault()\r\n\r\n    const form = $(e.currentTarget);\r\n    const name = form.find(\"[name='name']\");\r\n    const phone = form.find(\"[name='phone']\");\r\n    const comment = form.find(\"[name='comment']\");\r\n    const to = form.find(\"[name='to']\");\r\n\r\n    const modal = $(\"#modal\");\r\n    const content = modal.find(\"modal__content\")\r\n\r\n    modal.removeClass(\"error-modal\");\r\n\r\n    const isValid = validateFields(form, [name, phone, comment, to]);\r\n\r\n\r\n    if (isValid) {\r\n        $.ajax({\r\n            url: \"https://webdev-api.loftschool.com/sendmail\",\r\n            method: \"post\",\r\n            data: {\r\n                name: name.val(),\r\n                phone: phone.val(),\r\n                comment: comment.val(),\r\n                to: to.val()\r\n            },\r\n            success: data => {\r\n                content.text(data.message)\r\n                $.fancybox.open({\r\n                    src: \"#modal\",\r\n                    type: \"inline\"\r\n                })\r\n            },\r\n            error: data => {\r\n                const message = data.responseJSON.message;\r\n                content.text(message)\r\n                modal.addClass(\"error-modal\");\r\n                $.fancybox.open({\r\n                    src: \"#modal\",\r\n                    type: \"inline\"\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    $(\".button__close\").click(e => {\r\n        e.preventDefault();\r\n        $.fancybox.close();\r\n    })\r\n});"]}