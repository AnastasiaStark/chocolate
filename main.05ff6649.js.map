{"version":3,"sources":["js/main.js"],"names":["list","document","querySelector","close","adaptive","addEventListener","style","display","findBlockByAlias","alias","$","filter","ndx","item","attr","click","e","preventDefault","$this","currentTarget","curItem","closest","target","addClass","siblings","removeClass","openItem","container","contentBlock","find","reHeight","height","closeEveryItem","items","on","hasClass","slider","bxSlider","pager","controls","goToNextSlide","goToPrevSlide","video","durationControl","soundControl","intervalId","validateFields","form","fieldsArray","errorFields","forEach","field","val","trim","length","submit","name","phone","comment","to","modal","content","ajax","url","method","data","success","text","message","fancybox","open","src","type","error","responseJSON","MAX_SOUND_VALUE","playStop","classList","toggle","max","duration","paused","play","setInterval","updateDuration","stopInterval","pause","clearInterval","setVideoDuration","currentTime","value","add","console","log","soundOf","volume","soundLevel","changeSoundVolume","ready","getElementById","playButtons","querySelectorAll","i","min","VerticalAcco3","links","body","elem","link","activeElement","reqWidth","active","width","remove","current","currentText","offsetWidth","window","innerWidth"],"mappings":"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","file":"main.05ff6649.js","sourceRoot":"..","sourcesContent":["var list = document.querySelector('#menu_dropdown'),\r\n    close = document.querySelector('#adaptive__menu-close'),\r\n    adaptive = document.querySelector('#adaptive-menu');\r\nlist.addEventListener('click', function () {\r\n    adaptive.style.display = 'flex';\r\n});\r\nclose.addEventListener('click', function () {\r\n    adaptive.style.display = 'none';\r\n});\r\n\r\n//Выпадающий список//\r\n\r\nconst findBlockByAlias = (alias) => {\r\n    return $(\".review__item\").filter((ndx, item) => {\r\n        return $(item).attr(\"data-linked\") === alias;\r\n    });\r\n};\r\n$(\".interactive-avatar__link\").click(e => {\r\n    e.preventDefault();\r\n\r\n    const $this = $(e.currentTarget);\r\n    const curItem = $this.closest(\".review__switch-item\");\r\n    const target = $this.attr(\"data-open\");\r\n    const itemToShow = findBlockByAlias(target);\r\n    itemToShow.addClass(\"active\").siblings().removeClass(\"active\");\r\n    curItem.addClass(\"active\").siblings().removeClass(\"active\");\r\n});\r\n\r\n//Пеключатель свитч//\r\n\r\nconst openItem = item => {\r\n    const container = item.closest(\".team__item\");\r\n    const contentBlock = container.find(\".text__content\");\r\n    const textBlock = contentBlock.find(\".team__position\");\r\n    const reHeight = textBlock.height();\r\n\r\n    container.addClass(\"active\");\r\n    contentBlock.height(reHeight);\r\n}\r\n\r\nconst closeEveryItem = container => {\r\n    const items = container.find('.text__content');\r\n    const itemContainer = container.find(\".team__item\");\r\n\r\n    itemContainer.removeClass(\"active\");\r\n    items.height(0);\r\n}\r\n\r\n$(\".team__title\").on('click', (e) => {\r\n    const $this = $(e.currentTarget);\r\n    const container = $this.closest('.team');\r\n    const elemContainer = $this.closest(\".team__item\");\r\n\r\n    if (elemContainer.hasClass(\"active\")) {\r\n        closeEveryItem(container);\r\n        //close\r\n    } else {\r\n        closeEveryItem(container);\r\n        openItem($this);\r\n    }\r\n});\r\n\r\n//выпадающие отзывы в блоке команды//\r\n\r\n\r\nconst slider = $('.composition__list').bxSlider({\r\n    pager: false,\r\n    controls: false\r\n});\r\n\r\n$('.composition-slider__arrow_direction_prev').click(e => {\r\n    e.preventDefault();\r\n    slider.goToNextSlide();\r\n})\r\n\r\n$('.composition-slider__arrow_direction_next').click(e => {\r\n    e.preventDefault();\r\n    slider.goToPrevSlide();\r\n})\r\n\r\n//карусель в композишион//\r\n\r\nconst validateFields = (form, fieldsArray) => {\r\n\r\n    fieldsArray.forEach((field) => {\r\n        field.removeClass(\"input-error\");\r\n        if (field.val().trim() === \"\") {\r\n            field.addClass(\"input-error\");\r\n        }\r\n    });\r\n\r\n    const errorFields = form.find(\".input-error\");\r\n    return errorFields.length === 0;\r\n}\r\n\r\n$('.form').submit(e => {\r\n    e.preventDefault()\r\n\r\n    const form = $(e.currentTarget);\r\n    const name = form.find(\"[name='name']\");\r\n    const phone = form.find(\"[name='phone']\");\r\n    const comment = form.find(\"[name='comment']\");\r\n    const to = form.find(\"[name='to']\");\r\n\r\n    const modal = $(\"#modal\");\r\n    const content = modal.find(\".modal__content\")\r\n\r\n    modal.removeClass(\"error-modal\");\r\n\r\n    const isValid = validateFields(form, [name, phone, comment, to]);\r\n\r\n\r\n    if (isValid) {\r\n        $.ajax({\r\n            url: \"https://webdev-api.loftschool.com/sendmail\",\r\n            method: \"post\",\r\n            data: {\r\n                name: name.val(),\r\n                phone: phone.val(),\r\n                comment: comment.val(),\r\n                to: to.val()\r\n            },\r\n            success: data => {\r\n                content.text(data.message)\r\n                $.fancybox.open({\r\n                    src: \"#modal\",\r\n                    type: \"inline\"\r\n                })\r\n            },\r\n            error: data => {\r\n                const message = data.responseJSON.message;\r\n                content.text(message)\r\n                modal.addClass(\"error-modal\");\r\n                $.fancybox.open({\r\n                    src: \"#modal\",\r\n                    type: \"inline\"\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    $(\".button__close\").click(e => {\r\n        e.preventDefault();\r\n        $.fancybox.close();\r\n    })\r\n});\r\n\r\n//отправка в форме//\r\n\r\nlet video;\r\nlet durationControl;\r\nlet soundControl;\r\nlet intervalId;\r\nconst MAX_SOUND_VALUE = 10;\r\n\r\n$().ready(function () {\r\n\r\n    video = document.getElementById(\"player\");\r\n    video.addEventListener('click', playStop);\r\n\r\n\r\n    let playButtons = document.querySelectorAll(\".play\");\r\n    for (let i = 0; i < playButtons.length; i++) {\r\n        playButtons[i].addEventListener('click', playStop);\r\n    }\r\n\r\n    let micControl = document.getElementById(\"mic\");\r\n    micControl.addEventListener('click', soundOf)\r\n\r\n    durationControl = document.getElementById(\"durationLevel\");\r\n    durationControl.addEventListener('mousedown', stopInterval);\r\n    durationControl.addEventListener('mouseup', setVideoDuration);\r\n\r\n    durationControl.min = 0;\r\n    durationControl.value = 0;\r\n\r\n    soundControl = document.getElementById(\"micLevel\");\r\n    soundControl.addEventListener('mouseup', changeSoundVolume);\r\n\r\n    soundControl.min = 0;\r\n    soundControl.max = MAX_SOUND_VALUE;\r\n\r\n\r\n    video.addEventListener('ended', function () {\r\n        document.querySelector(\".video__player-img\").classList.toggle(\"video__player-img--hidden\");\r\n        video.currentTime = 0;\r\n    }, false);\r\n\r\n});\r\n\r\n\r\nfunction playStop() {\r\n\r\n    document.querySelector(\".video__player-img\").classList.toggle(\"video__player-img--hidden\");\r\n    durationControl.max = video.duration;\r\n\r\n    if (video.paused) {\r\n\r\n        video.play();\r\n        intervalId = setInterval(updateDuration, 1000 / 66);\r\n\r\n    } else {\r\n        stopInterval()\r\n    }\r\n}\r\n\r\nfunction stopInterval() {\r\n    video.pause();\r\n    clearInterval(intervalId);\r\n}\r\n\r\nfunction setVideoDuration() {\r\n\r\n    video.currentTime = durationControl.value;\r\n    intervalId = setInterval(updateDuration, 1000 / 66)\r\n\r\n    if (video.paused) {\r\n        video.play();\r\n        document.querySelector(\".video__player-img\").classList.add(\"video__player-img--hidden\");\r\n    }\r\n}\r\n\r\nfunction updateDuration() {\r\n    durationControl.value = video.currentTime;\r\n    console.log(video.currentTime);\r\n}\r\n\r\nfunction soundOf() {\r\n\r\n    if (video.volume === 0) {\r\n        video.volume = soundLevel;\r\n        soundControl.value = soundLevel * MAX_SOUND_VALUE;\r\n    } else {\r\n        soundLevel = video.volume;\r\n        video.volume = 0;\r\n        soundControl.value = 0;\r\n    }\r\n}\r\n\r\nfunction changeSoundVolume() {\r\n    video.volume = soundControl.value / MAX_SOUND_VALUE;\r\n    console.log(video.volume)\r\n}\r\n\r\n//видео You-Tube//\r\n\r\nconst VerticalAcco3 = () => {\r\n    const links = document.querySelectorAll(\".product-menu__link\");\r\n    const body = document.querySelector('body');\r\n\r\n    const calculateWidth = () => {\r\n        const windowWidth = window.innerWidth;\r\n        const MAX__WIDTH = 550;\r\n        const linksWidth = links[0].offsetWidth;\r\n\r\n        const reqWidth = windowWidth - (linksWidth * links.length);\r\n        return reqWidth > MAX__WIDTH ? MAX__WIDTH : reqWidth;\r\n    }\r\n\r\n\r\n    function closeItem(activeElement) {\r\n        const activeText = activeElement.querySelector(\".product-content\");\r\n        activeText.style.width = \"0px\";\r\n        activeElement.classList.remove(\"active\");\r\n    }\r\n\r\n\r\n    links.forEach(function (elem) {\r\n        elem.addEventListener(\"click\", function (e) {\r\n            console.log(123)\r\n            e.preventDefault();\r\n            const link = e.target.closest(\".product-menu__link\")\r\n            const active = document.querySelector(\".product-menu__item.active\");\r\n            if (active) {\r\n                closeItem(active);\r\n                return;\r\n            }\r\n\r\n            if (!active || active.querySelector(\".product-menu__link\") !== link) {\r\n                const current = link.closest(\".product-menu__item\");\r\n                current.classList.add(\"active\");\r\n                const currentText = current.querySelector(\".product-content\");\r\n                if (body.offsetWidth > 415) {\r\n                    currentText.style.width = calculateWidth() + 'px';\r\n                } else {\r\n                    currentText.style.width = \"100%\";\r\n                }\r\n            }\r\n        });\r\n    });\r\n};\r\n\r\nVerticalAcco3();\r\n\r\n// const section = $(\"section\");\r\n// const display = $(\".wrapper\");\r\n//\r\n// const performTransition = sectionEq => {\r\n//     const position = sectionEq * -100;\r\n//\r\n//     display.css ({\r\n//         transform:  `translateY(${position}%)`\r\n//     });\r\n// }\r\n//\r\n// $(window).on(\"wheel\", e => {\r\n//     const deltaY = e.originalEvent.deltaY;\r\n//     if (deltaY > 0) {\r\n//         performTransition(2);\r\n//     }\r\n//     if (deltaY < 0) {\r\n//\r\n//     }\r\n// });\r\n\r\n\r\n// let myMap;\r\n// const init = () => {\r\n//     myMap = new ymaps.Map(\"map\", {\r\n//         center: [55.76, 37.64],\r\n//         zoom: 15\r\n//     });\r\n//\r\n//\r\n// let coords = [\r\n//         [55.858977, 37.454208],\r\n//         [55.791067, 37.606399],\r\n//         [55.744718, 37.634729]\r\n//     ],\r\n//     myCollection = new ymaps.GeoObjectCollection({}, {\r\n//         draggable: false,\r\n//         iconLayout: 'default#image',\r\n//         iconImageHref: 'img/icon__map.svg',\r\n//         // iconImageHref: './img/sprite.svg#map',\r\n//         iconImageSize: [46, 57],\r\n//         iconImageOffset: [-35, -52]\r\n//     });\r\n//\r\n// for (let i = 0; i < coords.length; i++) {\r\n//     myCollection.add(new ymaps.Placemark(coords[i]));\r\n// }\r\n//\r\n// myMap.geoObjects.add(myCollection);\r\n//\r\n// myMap.behaviors.disable('scrollZoom');\r\n//\r\n// };\r\n// ymaps.ready(init);"]}